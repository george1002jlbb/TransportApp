@page
@model Transport.App.Frontend.Pages.ListarVehiculoModel
@{
} 
<div class="container">
    <div class="row">
        <div class="col-9">
            <h2 class="text-info">Lista  de Vehiculos</h2>
        </div>
        <div class="col-3">
            <a class="btn btn-secundary" asp-page="/Vehiculos/CrearVehiculo">Crear Nuevo Vehiculo</a>
        </div>
    </div>
    <br />
    <br />
    <table>
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">DUEÑO</th>
                <th scope="col">TIPO DE VEHICULO</th>
                <th scope="col">PLACA</th>
                <th scope="col">MARCA</th>
                <th scope="col">MODELO</th>
                <th scope="col">COLOR</th>
                <th scope="col">CAPACIDAD PASAJEROS</th>
                <th scope="col">CILINDRAJE</th>
                <th scope="col">PAIS</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody> 
            @foreach (var vehiculo in Model.lsvehiculos)
            {
                var tipoVehiculo = Model._repoTipoVehiculo.GetTipoVehiculo(vehiculo.FkTipoVehiculo);
                var persona = Model._repoPersona.GetPersona(vehiculo.FkPersona);

                <tr>
                    <td>@vehiculo.Id</td>
                    <td>@persona.Nombre @persona.Apellido</td>
                    <td>@tipoVehiculo.Descripcion</td>
                    <td>@vehiculo.Placa</td>
                    <td>@vehiculo.Marca</td>
                    <td>@vehiculo.Modelo</td>
                    <td>@vehiculo.Color</td>
                    <td>@vehiculo.CapacidadPasajeros</td>
                    <td>@vehiculo.CilindrajeMotor</td>
                    <td>@vehiculo.Pais</td> 
                    <td>
                         <a class="btn btn-primary table-btn" asp-page="./EditarVehiculo" asp-route-Id="@vehiculo.Id">
                            <i class="fas fa-addrees-book fa-lg" aria-hidden="true">Editar</i>
                        </a>
                    </td>
                    <td>
                        <form method="post" asp-page-handler="Delete" asp-route-id="@vehiculo.Id">
                            <button class="btn btn-danger">Eliminar</button>
                        </form>
                    </td>
                </tr>
            }
         </tbody>
    </table>
</div>